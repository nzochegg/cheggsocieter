<!DOCTYPE html>
<html>
    <head>
        <title>nzochegg</title>
        <meta charset="utf-8"/>
        <link rel="stylesheet" type="text/css" href="main.css">
        <script src="jquery-3.7.1.min.js"></script>
        <script> 
            $(function(){
                $("#sidebarload").load("sidebar.html"); 
                $("#headerload").load("header.html"); 
                $("#footerload").load("footer.html"); 
            });
        </script> 
    </head>

    <div id="headerload"></div>

    <body id="body">
        <div id="sidebar">
            <div id="sidebar_spec">
                <div id="lien_side">
                    <div id="sidebarload"></div>
                </div>
            </div>
            <div id=accueil>
                <h1>METACHIM1</h1>

                <div class="viewer" id="imageViewer" style="width: 750px; height: auto;">
                    <!-- Les images seront insérées ici dynamiquement -->
                </div>

                <div class="buttons">
                    <button id="prevBtn">←</button>
                    <button id="nextBtn">→</button>
                </div>

                <script>
                        const images = [
                          'metachim1/1. .png',
                          'metachim1/1.1. .png',
                          'metachim1/2. .png',
                          'metachim1/3. .png',
                          'metachim1/4. .png',
                          'metachim1/5. .png',
                          'metachim1/6. .png',
                          'metachim1/7. .png',
                          'metachim1/8. .png',
                          'metachim1/8.1 .png',
                          'metachim1/8.2 .png',
                          'metachim1/8.3 .png',
                          'metachim1/8.4 .png',
                          'metachim1/9. .png',
                          'metachim1/10. .png',
                          'metachim1/11. .png',
                          'metachim1/12. .png',
                          'metachim1/13. .png',
                          'metachim1/14. .png',
                          'metachim1/15. .png',
                          'metachim1/16. .png',
                          'metachim1/17. .png',
                          'metachim1/18. .png',
                          'metachim1/19. .png',
                          'metachim1/20. .png',
                          'metachim1/21. .png',
                          'metachim1/21.1 .png',
                          'metachim1/22. .png',
                          'metachim1/23. .png',
                          'metachim1/24. .png',
                          'metachim1/24.1 .png',
                          'metachim1/25. .png',
                          'metachim1/26. .png',
                          'metachim1/27. .png',
                          'metachim1/28. .png',
                          'metachim1/29. .png',
                        ];

                        let currentPage = 0;
                        const viewer = document.getElementById('imageViewer');
                        const prevBtn = document.getElementById('prevBtn');
                        const nextBtn = document.getElementById('nextBtn');

                        function updateViewer() {
                            viewer.innerHTML = '';

                            if (currentPage != 0) {
                                for (let i = 0; i < 2; i++) {
                                    const imgIndex = currentPage + i;
                                    if (imgIndex < images.length) {
                                        const img = document.createElement('img');
                                        img.src = images[imgIndex];
                                        viewer.appendChild(img);
                                    }
                                }
                            } else {
                                const imgIndex = currentPage;
                                const img = document.createElement('img');
                                img.src = images[imgIndex];
                                viewer.appendChild(img);
                            }

                          prevBtn.disabled = currentPage === 0;
                          nextBtn.disabled = (currentPage + 1) >= images.length;
                        }

                        prevBtn.addEventListener('click', () => {
                            if (currentPage > 0) {
                                currentPage--;  
                                updateViewer();
                            }
                        });

                        nextBtn.addEventListener('click', () => {
                            if ((currentPage + 1) < images.length) {
                                if (currentPage != 0) {
                                    currentPage+=2;
                                } else {  
                                    currentPage++;
                                }
                                updateViewer();
                            }
                        });

                        updateViewer();
                </script>
            </div>     
        </div>
    </body>

    <div id="footerload"></div>

</html>